!function(){var t="object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global||this,n=function(t){return t instanceof n?t:this instanceof n?void(this._wrapped=t):new n(t)};"undefined"==typeof exports||exports.nodeType?t.Maf=n:("undefined"!=typeof module&&!module.nodeType&&module.exports&&(exports=module.exports=n),exports.Maf=n),n.VERSION="1.0.0",n.PI=Math.PI,n.clamp=function(t,n,e){return Math.min(e,Math.max(n,t))},n.step=function(t,n){return n<t?0:1},n.smoothStep=function(t,e,a){var r=n.clamp((a-t)/(e-t),0,1);return r*r*(3-2*r)},n.deg2Rad=function(t){return t*Math.PI/180},n.toRadians=n.deg2Rad,n.rad2Deg=function(t){return 180*t/Math.PI},n.toDegrees=n.rad2Deg,n.clamp01=function(t){return n.clamp(t,0,1)},n.mix=function(t,n,e){return e<=0?t:e>=1?n:t+e*(n-t)},n.lerp=n.mix,n.inverseMix=function(t,n,e){return(e-t)/(n-t)},n.inverseLerp=n.inverseMix,n.mixUnclamped=function(t,n,e){return e<=0?t:e>=1?n:t+e*(n-t)},n.lerpUnclamped=n.mixUnclamped,n.fract=function(t){return t-Math.floor(t)},n.frac=n.fract,n.isPowerOfTwo=function(t){return 0==(t-1&t)},n.closestPowerOfTwo=function(t){return Math.pow(2,Math.round(Math.log(t)/Math.log(2)))},n.nextPowerOfTwo=function(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.log(2)))},n.mod=function(t,n){return(t%n+n)%n},n.deltaAngle=function(t,e){var a=n.mod(e-t,360);return a>180&&(a=Math.abs(a-360)),a},n.deltaAngleDeg=n.deltaAngle,n.deltaAngleRad=function(t,e){return n.toRadians(n.deltaAngle(n.toDegrees(t),n.toDegrees(e)))},n.lerpAngle=function(t,e,a){var r=n.deltaAngle(t,e);return n.mod(t+n.lerp(0,r,a),360)},n.lerpAngleDeg=n.lerpAngle,n.lerpAngleRad=function(t,e,a){return n.toRadians(n.lerpAngleDeg(n.toDegrees(t),n.toDegrees(e),a))},n.gammaToLinearSpace=function(t){return Math.pow(t,2.2)},n.linearToGammaSpace=function(t){return Math.pow(t,1/2.2)},n.map=function(t,n,e,a,r){return e+(r-t)*(a-e)/(n-t)},n.scale=n.map,n.almostIdentity=function(t,n,e){if(t>n)return t;var a=2*e-n,r=2*n-3*e,o=t/n;return(a*o+r)*o*o+e},n.impulse=function(t,n){var e=t*n;return e*Math.exp(1-e)},n.cubicPulse=function(t,n,e){return e=Math.abs(e-t),e>n?0:(e/=n,1-e*e*(3-2*e))},n.expStep=function(t,n,e){return Math.exp(-n*Math.pow(t,e))},n.parabola=function(t,n){return Math.pow(4*t*(1-t),n)},n.powerCurve=function(t,n,e){var a=Math.pow(n+e,n+e)/(Math.pow(n,n)*Math.pow(e,e));return a*Math.pow(t,n)*Math.pow(1-t,e)},n.latLonToCartesian=function(t,e){e+=180,t=n.clamp(t,-85,85);var a=n.toRadians(90-t),r=n.toRadians(180-e),o=Math.sin(a)*Math.cos(r),u=Math.cos(a),i=Math.sin(a)*Math.sin(r);return{x:o,y:u,z:i}},n.cartesianToLatLon=function(t,n,e){var a=Math.sqrt(t*t+n*n+e*e);return{lat:Math.asin(e/a),lon:Math.atan2(n,t)}},n.randomInRange=function(t,n){return t+Math.random()*(n-t)},n.norm=function(t,n,e){return(t-n)/(e-n)},n.hash=function(t){return n.fract(415.92653*(1+Math.cos(t)))},n.noise2d=function(t,e){var a=n.hash(37*t),r=n.hash(57*e);return n.fract(a+r)},n.smoothMin=function(t,n,e){var a=Math.exp(-e*t)+Math.exp(-e*n);return-Math.log(a)/e},n.smoothMax=function(t,n,e){return Math.log(Math.exp(t)+Math.exp(n))/e},n.almost=function(t,n){return Math.abs(t-n)<1e-4}}();